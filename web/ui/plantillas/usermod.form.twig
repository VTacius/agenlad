{% extends "base/layout.html.twig" %}
{% block titulo -%}Listado de usuarios{% endblock %}
{% block javascript %}
    <script src="{{ activos('js/controladores/usermodControl.js') }}" type="text/javascript"></script>
{% endblock %}

{# Configuramos las variables que la plantilla padre usa para formar el menu #}
{% set menu = menu %}
{% set pagina = pagina %}

{% block lateral %}
    <h3>Modificaci贸n de usuarios</h3>
    <p>Modificaci贸n de usuarios Institucionales<br>
    Bienvenido <b>{{titulo}} {{usuario}}</b></p>
{% endblock %}

{% block contenido -%}
    {{ parent() }}
    <form class="form-horizontal" role="form" method="POST" id="formbusqueda">
        <legend>Modificaci贸n para usuario <b id="usermod">{{datos.usermod}}</b></legend>
        <div class="form-group">
            <label for="uid" class="col-md-3 text-left">Nombres</label>
            <div class="col-lg-9">
                <input type="text" class="form-control input-x" id="nombreUsuario" name="nombreUsuario" placeholder="Nombres" autofocus autocomplete="off" value="{{datos.nameuser}}">
            </div>
        </div>
        <div class="form-group">
            <label for="o" class="col-md-3 text-left">Apellidos</label>
            <div class="col-lg-9">
                <input type="text" class="form-control input-x" id="apellidoUsuario" name="apellidoUsuario" placeholder="Apellidos" autocomplete="off" value="{{datos.apelluser}}">
            </div>
        </div>
        <div class="form-group">
            <label for="ou" class="col-lg-3 text-left">Oficina</label>
            <div class="col-lg-9">
                <input type="text" class="form-control input-x" id="oficinaUsuario" name="oficinaUsuario" placeholder="Oficina" autocomplete="off" value="{{datos.oficina}}">
            </div>
        </div>
        <div class="form-group">
            <label for="ou" class="col-lg-3 text-left">Establecimiento</label>
            <div class="col-lg-9">
                <input type="text" class="form-control input-x" id="establecimientoUsuario" name="establecimientoUsuario" placeholder="Establecimiento" autocomplete="off" value="{{datos.localidad}}">
            </div>
        </div>
        <div class="form-group">
            <div class="col-lg-6">
                <label for="ou" class="col-lg-5 text-left">Estado de la Cuenta de Correo</label>
                <div class="col-lg-7">
                    <div class="btn-group btn-toggle" id="cuentastatusBtn"> 
                    {% if datos.cuentastatus == "active" %}
                        <button class="btn btn-sm btn-primary active">Active</button>
                        <button class="btn btn-sm btn-default">Inactive</button>
                    {% else %}
                        <button class="btn btn-sm btn-default">Active</button>
                        <button class="btn btn-sm btn-primary active">{{ datos.cuentastatus | capitalize }}</button>
                    {% endif %}
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <label for="ou" class="col-lg-5 text-left">Estado del Buz贸n de Correo</label>
                <div class="col-lg-7">
                    <div class="btn-group btn-toggle" id="buzonstatusBtn">
                    {% if datos.buzonstatus == "enabled" %}
                        <button class="btn btn-sm btn-primary active">Enabled</button>
                        <button class="btn btn-sm btn-default">Disabled</button>
                    {% else %}
                        <button class="btn btn-sm btn-default">Enabled</button>
                        <button class="btn btn-sm btn-primary active">{{ datos.cuentastatus | capitalize }}</button>
                    {% endif %}
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="ou" class="col-lg-12 text-left">Pertenencia a Grupos</label>
            <div class="col-lg-6">
                <label for="ou" class="col-lg-12 text-left">Grupo Principal</label>
                <select class="form-control col-lg-12">
                    {% for elemento in datos.grupos %}
                        {% if elemento.cn == datos.grupouser %}
                            <option selected>{{elemento.cn}}</option>
                        {% else %}
                            <option>{{elemento.cn}}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="col-lg-6">
                <label for="ou" class="col-lg-12 text-left">Grupos Adicionales</label>
                <select multiple class="form-control col-lg-12" size="10">
                    {% for elemento in datos.grupos %}
                        <option>{{elemento.cn}}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
        <div class="form-group">
            <label id="resultado" class="col-lg-12 text-left"></label>
        </div>
        <div class="form-group text-center">
            <button class="btn btn-lg btn-primary" id="enviar" tabindex="1" role="button">Modificar Usuario</button> 
        </div>
    </form>
{% endblock %}
